<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="author" content="rortegag" />
    <meta
      name="description"
      content="En esta página enseño la instalación de Ubuntu 20.04 LTS haciendo uso de una interfáz gráfica en Windows 10 u 11."
    />
    <meta
      name="keywords"
      content="rortegag, Raul Ortega, ubuntu, ubuntu 20.04 LTS, WSL, WSL2, interfáz gráfica, instalación, instalación wsl, instalación wsl2, windows 10, windows 11, wsl en windows 10, wsl en windows 11, wsl2 en windows 10, wsl2 en windows 11"
    />
    <meta name="application-name" content="rortegag.com" />
    <meta name="apple-mobile-web-app-title" content="rortegag.com" />
    <meta name="theme-color" content="#efefef" />
    <meta name="msapplication-TileColor" content="#efefef" />
    <title>Recursos de iconos gratuitos - rortegag.com</title>
    <link rel="manifest" href="../public/manifest.json" />
    <link
      rel="mask-icon"
      href="../public/safari-pinned-tab.svg"
      color="#761f85"
    />
    <link rel="icon" type="image/x-icon" href="../public/favicon.ico" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../public/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../public/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../public/apple-touch-icon.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../public/apple-touch-icon-180x180.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="../public/apple-touch-icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="../public/apple-touch-icon-144x144.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="../public/apple-touch-icon-120x120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="../public/apple-touch-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="../public/apple-touch-icon-76x76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="../public/apple-touch-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="../public/apple-touch-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="../public/apple-touch-icon-57x57.png"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="../css/style.css" />
  </head>

  <body class="rog-bg-main">
    <div class="container py-1">
      <header
        class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-1 mb-1"
      >
        <a
          href="../index.html"
          class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none"
        >
          <picture>
            <source
              media="(prefers-color-scheme: dark)"
              srcset="../assets/img/logo-dark.png"
            />
            <img src="../assets/img/logo-light.png" width="320" height="100" />
          </picture>
        </a>
        <nav>
          <ul class="nav nav-pills">
            <li class="nav-item">
              <a
                href="../index.html"
                id="home"
                class="nav-link rog-text-color rog-font-default"
                ><i class="bi bi-house-door-fill"></i> Inicio</a
              >
            </li>
            <li class="nav-item">
              <a
                href="../aboutme.html"
                id="aboutme"
                class="nav-link rog-text-color rog-font-default"
                ><i class="bi bi-person-fill"></i> Sobre mí</a
              >
            </li>
            <li class="nav-item">
              <a
                href="../blog.html"
                id="blog"
                class="nav-link rog-text-color rog-font-default"
                ><i class="bi bi-card-heading"></i> Blog</a
              >
            </li>
            <li class="nav-item">
              <a
                href="../cheatsheets.html"
                id="cheatsheets"
                class="nav-link rog-text-color rog-font-default"
                ><i class="bi bi-file-earmark-spreadsheet"></i> Cheatsheets</a
              >
            </li>
            <li class="nav-item">
              <a
                href="../contact.html"
                id="contact"
                class="nav-link rog-text-color rog-font-default"
                ><i class="bi bi-envelope-fill"></i> Contacto</a
              >
            </li>
          </ul>
        </nav>
      </header>
      <main>
        <div class="p-4 mb-4 rog-bg-default rounded-3">
          <div class="container-fluid">
            <img
              class="img-fluid mx-auto d-block mb-2 rounded-3"
              src="../assets/img/9-fonts-icons.png"
              width="800"
              height="400"
              alt="Recursos de iconos gratuitos"
            />
            <h1
              class="display-5 fw-bold text-center rog-text-default rog-font-title"
            >
              Ubuntu con interfaz gráfica en Windows 10/11 con Windows Subsystem
              for Linux
            </h1>
            <p class="fs-5 rog-text-default rog-font-default">
              Traigo esta tarea de instalación y configuración de Ubuntu 20.04 LTS con entorno
              gráfico dentro de Windows 10/11, haciendo uso de Windows
              Subsystem for Linux a su última versión (WSL2). 
            </p>
            <p class="fs-5 rog-text-default rog-font-default">
              ¿Qué es WSL?. <br />
              Windows Subsystem for Linux es una capa
              de compatibilidad que ha agregado Microsoft en Windows 10 y 11 para entornos GNU/Linux dentro de Windows, lo
              anterior quiere decir que podrás usar ciertas distribuciones de GNU/Linux en Windows 10/11. La primera versión 
              de WSL llevó al intérprete de comandos que se instala en la mayoría de las distribuciones
              GNU/Linux (estamos hablando del shell bash) a Windows,
              permitiendo ejecutar binarios desde Windows. Para la versión 2 de
              WSL hubo grandes mejoras en cuando rendimiento, ya que WSL2 utiliza un núcleo Linux real. Se pueden utilizar
              aplicaciones de GNU/Linux desde Windows 10/11 utilizando
              direcciones IP remotas, así mismo permite la gestión de una distribución GNU/Linux con entorno gráfico.
            </p>
            <p class="fs-5 rog-text-default rog-font-default">
              Requisitos para instalar Ubuntu 20.04 LTS en WSL
            </p>
            <ul class="rog-text-default rog-font-default">
              <li>Mínima versión de Windows 10: Versión 2004 (OS Build 19041.329)</li>
              <li>Tener instalado WSL2 en Windows 10/11</li>
              <li>Instalar Ubuntu 20.04 LTS</li>
              <li>Instalar la interfaz gráfica de Ubuntu 20.04 LTS</li>
            </ul>
            <p class="fs-5 rog-text-default rog-font-default">
              Primero, se debe que versión de Windows tienes. Con ejecutar el comando <code>winver</code>
              verás la versión de Windows.
            </p>
            <img />
            <p class="fs-5 rog-text-default rog-font-default">
              Una vez comprobado la versión de Windows, tienes que instalar 2 características: Plataforma de máquina virtual y Subsistema de Windows para Linux.
            </p>
            <p>Se puede instalar dos formas, usando la herramienta DISM de Powershell o a través de Activar o desactivar características de Windows:</p>
            <p>En Powershell, ejecutado en modo administrador, debes de introducir los siguentes comandos.</p>
            <p><code>dism.exe /Online /Enable-Feature /FeatureName:Microsoft-Windows-Subsystem-Linux /All /NoRestart</code></p>
            <img />
            <p><code>dism.exe /Online /Enable-Feature /featureName:VirtualMachinePlatform /All /NoRestart</code></p>
            <img />
            <p>En Activar y desactivar características de Windows, dbees dar click en la casilla para seleccionarlo para instalarlo.</p>
            <p>Después hay que reiniciar Windows para activar completamente las características instaladas.</p>
            <p>Luego, hay que volver abrir Powershell, en modo adminsitrador, para permitir usar WSL2 de forma predeterminada.</p>
            <p><code>wsl --set-default-version 2</code></p>
            <img />
            <p>Si sale un mensjae de que WSL2 requiere una actualización en su componente kernel, debes abrir el enlace que te da. Con Ctrl + Click izquierdo abres el enlace.</p>
            <img />
            <img />
            <p>Debes volver a ejecutar otro vez el comando.</p>
            <p><code>wsl --set-default-version 2</code></p>
            <p>Ahora, abres la Microsoft Store e instalas la versión de Ubuntu que quieras.</p>
            <img />
            <p>Una vez descargado, le das  abrir y saldrá un terminal de Ubuntu.</p>
            <img src="" alt="">
            <img />
            <p>Si ejecutas el comando: <code>wsl -l -v</code> puedes ver que Ubuntu se está ejecutando.</p>
            <h2>Instalación de la GUI para Ubuntu</h2>
            <p>Dentro de Ubuntu, ejecuta los siguientes comandos en este orden:</p>
            <ul>
              <li><code>sudo apt update && sudo apt -y upgrade</code></li>
              <li><code>sudo apt install -y xrdp</code></li>
              <li><code>sudo apt install -y xfce4</code></li>
              <li><code>sudo apt install -y xfce4-goodies</code></li>
              <li><code>sudo cp /etc/xrdp/xrdp.ini /etc/xrdp/xrdp.ini.bak</code></li>
              <li><code>sudo sed -i 's/3389/3390/g' /etc/xrdp/xrdp.ini</code></li>
              <li><code>sudo sed -i 's/max_bpp=32/#max_bpp=32\nmax_bpp=128/g' /etc/xrdp/xrdp.ini</code></li>
              <li><code>sudo sed -i 's/xserverbpp=24/#xserverbpp=24\nxserverbpp=128/g' /etc/xrdp/xrdp.ini</code></li>
              <li><code>echo xfce4-session > ~/.xsession</code></li>
              <li><code>sudo nano /etc/xrdp/startwm.sh</code></li>
            </ul>
            <p>Puedes seleccionar el que quieras, LightDM es más ligero que GDM3.</p>
            <img />
            <p>Cuando estes editando con el editor de archivos <code>nano</code>, debes comentar las siguentes líneas:</p>
            <p><code># test -x /etc/X11/Xsession && exec /etc/X11/Xsession</code></p>
            <p><code># exec /bin/sh /etc/X11/Xsession</code></p>
            <img>
            <p>Agrega las siguiente línea</p>
            <p><code>startxfce4</code></p>
            <img>
            <p>Guarda el archivo (Ctrl + O) y sal (Ctrl + X)</p>
            <p>Ahora inicia el servicio de escritorio remoto.</p>
            <p><code>sudo /etc/init.d/xrdp start</code></p>
            <p>Abre el programa de Conexión a escritorio remoto</p>
            <img>
            <p>Y cuando te conectes, pon tu usuario y contraseña.</p>
            <img>
            <p>Y ya tienes un Ubuntu operativo con entorno gráfico sin sacrificar rendimiento del ordenador.</p>
            <img>
          </div>
        </div>
      </main>
      <footer
        class="footer container-fluid text-center bg-dark text-white rounded-3"
      >
        <div class="container pt-3">
          <section class="mb-4">
            <a
              class="text-light fs-3 me-3"
              href="https://www.linkedin.com/in/raul-ortega-gallego/"
              role="button"
              target="_blank"
              ><i class="bi bi-linkedin"></i
            ></a>
            <a
              class="text-light fs-3"
              href="https://twitter.com/r_ortegag"
              role="button"
              target="_blank"
              rel="noopener noreferrer"
              ><i class="bi bi-twitter"></i
            ></a>
            <a
              class="text-light fs-3 ms-3"
              href="https://github.com/r-ortegag"
              role="button"
              target="_blank"
              rel="noopener noreferrer"
              ><i class="bi bi-github"></i
            ></a>
          </section>
        </div>
        <div class="text-center text-light pb-3">
          &copy; 2022 Copyright
          <a class="text-light" href="https://rortegag.com">rortegag.com</a>
        </div>
      </footer>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="../js/enhance.js"></script>
  </body>
</html>
