<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="author" content="rortegag" />
    <meta
      name="description"
      content="En esta página enseño la instalación de Ubuntu 20.04 LTS haciendo uso de una interfáz gráfica en Windows 10 u 11."
    />
    <meta
      name="keywords"
      content="rortegag, Raul Ortega, ubuntu, ubuntu 20.04 LTS, WSL, WSL2, interfáz gráfica, instalación, instalación wsl, instalación wsl2, windows 10, windows 11, wsl en windows 10, wsl en windows 11, wsl2 en windows 10, wsl2 en windows 11"
    />
    <meta name="application-name" content="rortegag.com" />
    <meta name="apple-mobile-web-app-title" content="rortegag.com" />
    <meta name="theme-color" content="#efefef" />
    <meta name="msapplication-TileColor" content="#efefef" />
    <title>
      Ubuntu con interfaz gráfica en Windows 10/11 con WSL2 - rortegag.com
    </title>
    <link rel="manifest" href="../public/manifest.json" />
    <link
      rel="mask-icon"
      href="../public/safari-pinned-tab.svg"
      color="#761f85"
    />
    <link rel="icon" type="image/x-icon" href="../public/favicon.ico" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../public/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../public/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../public/apple-touch-icon.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../public/apple-touch-icon-180x180.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="../public/apple-touch-icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="../public/apple-touch-icon-144x144.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="../public/apple-touch-icon-120x120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="../public/apple-touch-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="../public/apple-touch-icon-76x76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="../public/apple-touch-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="../public/apple-touch-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="../public/apple-touch-icon-57x57.png"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="../css/style.css" />
  </head>

  <body class="rog-bg-main">
    <header
      class="container d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-1 mb-1"
    >
      <a
        href="../index.html"
        class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none"
      >
        <picture>
          <source
            media="(prefers-color-scheme: dark)"
            srcset="../assets/img/logo-dark.svg"
          />
          <img src="../assets/img/logo-light.svg" width="320" height="100" />
        </picture>
      </a>
      <nav>
        <ul class="nav nav-pills">
          <li class="nav-item">
            <a
              href="../index.html"
              id="home"
              class="nav-link rog-text-color rog-font-default"
            ></a>
          </li>
          <li class="nav-item">
            <a
              href="../aboutme.html"
              id="aboutme"
              class="nav-link rog-text-color rog-font-default"
            ></a>
          </li>
          <li class="nav-item">
            <a
              href="../blog.html"
              id="blog"
              class="nav-link rog-text-color rog-font-default"
            ></a>
          </li>
          <li class="nav-item">
            <a
              href="../cheatsheets.html"
              id="cheatsheets"
              class="nav-link rog-text-color rog-font-default"
            ></a>
          </li>
          <li class="nav-item">
            <a
              href="../contact.html"
              id="contact"
              class="nav-link rog-text-color rog-font-default"
            ></a>
          </li>
        </ul>
      </nav>
    </header>
    <main class="container py-1">
      <article class="p-4 mb-4 rog-bg-default rounded-3">
        <div class="container-fluid">
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2.png"
            width="800"
            height="400"
            alt="Ubuntu con interfaz gráfica en Windows 10/11 con Windows Subsystem for Linux"
          />
          <h1
            class="display-5 fw-bold text-center rog-text-default rog-font-title"
          >
            Ubuntu con interfaz gráfica en Windows 10/11 con Windows Subsystem
            for Linux
          </h1>
          <p class="fs-5 rog-text-default rog-font-default">
            Traigo esta tarea de instalación y configuración de Ubuntu 20.04 LTS
            con entorno gráfico dentro de Windows 10/11, haciendo uso de Windows
            Subsystem for Linux a su última versión (WSL2).
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            <span class="fw-bold">¿Qué es WSL?</span> <br />
            Windows Subsystem for Linux es una capa de compatibilidad que ha
            agregado Microsoft en Windows 10 y 11 para entornos GNU/Linux dentro
            de Windows, lo anterior quiere decir que podrás usar ciertas
            distribuciones de GNU/Linux en Windows 10/11. <br />
            La primera versión de WSL llevó al intérprete de comandos que se
            instala en la mayoría de las distribuciones GNU/Linux (estamos
            hablando del shell bash) a Windows, permitiendo ejecutar binarios
            desde Windows. Para la versión 2 de WSL hubo grandes mejoras en
            cuando rendimiento, ya que WSL2 utiliza un núcleo Linux real. Se
            pueden utilizar aplicaciones de GNU/Linux desde Windows 10/11
            utilizando direcciones IP remotas, así mismo permite la gestión de
            una distribución GNU/Linux con entorno gráfico.
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            Primero, que versión de Windows tienes. Con ejecutar el comando
            <code class="rog-font-title">winver</code>
            verás la versión de Windows.
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/winver.png"
            alt="Mostrando versión de Windows con winver"
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Una vez comprobado la versión de Windows, tienes que instalar 2
            características: Plataforma de máquina virtual y Subsistema de
            Windows para Linux.
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            Se puede instalar de dos formas, usando la herramienta DISM de
            Powershell o a través de Activar o desactivar características de
            Windows:
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            En Powershell, ejecutado en modo administrador, debes de introducir
            los siguentes comandos.
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            <code class="rog-font-title"
              >dism.exe /Online /Enable-Feature
              /FeatureName:Microsoft-Windows-Subsystem-Linux /All
              /NoRestart</code
            >
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/caracteristicas-powershell-1.png"
            alt=""
          />
          <p class="fs-5 rog-text-default rog-font-default">
            <code class="rog-font-title"
              >dism.exe /Online /Enable-Feature
              /featureName:VirtualMachinePlatform /All /NoRestart</code
            >
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/caracteristicas-powershell-2.png"
          />
          <p class="fs-5 rog-text-default rog-font-default">
            En Activar y desactivar características de Windows, debes dar click
            en la casilla para seleccionarlo para instalarlo.
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/caracteristicas-1.png"
            alt="Característica seleccionada Plataforma de máquina virtual"
          />
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/caracteristicas-2.png"
            alt="Característica seleccionada Subsistema de Windows para Linux"
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Después hay que reiniciar Windows para activar completamente las
            características instaladas.
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            Luego, hay que volver abrir Powershell, en modo adminsitrador, para
            permitir usar WSL2 de forma predeterminada.
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            <code class="rog-font-title">wsl --set-default-version 2</code>
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/activar-wsl2.png"
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Si sale un mensjae de que WSL2 requiere una actualización en su
            componente kernel, debes abrir el enlace que te da. Con Ctrl + Click
            izquierdo abres el enlace.
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/instalar-paquete-actualizacion-wsl2-1.png"
          />
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/instalar-paquete-actualizacion-wsl2-2.png"
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Debes volver a ejecutar otro vez el comando.
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            <code class="rog-font-title">wsl --set-default-version 2</code>
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            Ahora, abres la Microsoft Store e instalas la versión de Ubuntu que
            quieras.
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/instalar-ubuntu-2004.png"
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Una vez descargado, le das abrir y saldrá un terminal de Ubuntu.
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/ubuntu-2004-1.png"
            alt=""
          />
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/ubuntu-2004-2.png"
            alt=""
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Si ejecutas el comando:
            <code class="rog-font-title">wsl -l -v</code> puedes ver que Ubuntu
            se está ejecutando.
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/ubuntu-ejecutandose.png"
            alt=""
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Dentro de Ubuntu, ejecuta los siguientes comandos en este orden:
          </p>
          <ol>
            <li>
              <code class="rog-font-title"
                >sudo apt update && sudo apt -y upgrade</code
              >
            </li>
            <li>
              <code class="rog-font-title">sudo apt install -y xrdp</code>
            </li>
            <li>
              <code class="rog-font-title">sudo apt install -y xfce4</code>
            </li>
            <li>
              <code class="rog-font-title"
                >sudo apt install -y xfce4-goodies</code
              >
            </li>
            <li>
              <code class="rog-font-title"
                >sudo cp /etc/xrdp/xrdp.ini /etc/xrdp/xrdp.ini.bak</code
              >
            </li>
            <li>
              <code class="rog-font-title"
                >sudo sed -i 's/3389/3390/g' /etc/xrdp/xrdp.ini</code
              >
            </li>
            <li>
              <code class="rog-font-title"
                >sudo sed -i 's/max_bpp=32/#max_bpp=32\nmax_bpp=128/g'
                /etc/xrdp/xrdp.ini</code
              >
            </li>
            <li>
              <code class="rog-font-title"
                >sudo sed -i 's/xserverbpp=24/#xserverbpp=24\nxserverbpp=128/g'
                /etc/xrdp/xrdp.ini</code
              >
            </li>
            <li>
              <code class="rog-font-title"
                >echo xfce4-session > ~/.xsession</code
              >
            </li>
            <li>
              <code class="rog-font-title">sudo nano /etc/xrdp/startwm.sh</code>
            </li>
          </ol>
          <p class="fs-5 rog-text-default rog-font-default">
            Puedes seleccionar el que quieras, LightDM es más ligero que GDM3.
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/lightdm.png"
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Cuando estes editando con el editor de archivos <code>nano</code>,
            debes comentar las siguentes líneas:
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            <code class="rog-font-title"
              ># test -x /etc/X11/Xsession && exec /etc/X11/Xsession</code
            >
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            <code class="rog-font-title"># exec /bin/sh /etc/X11/Xsession</code>
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/editar-xrdp-1.png"
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Agrega la siguiente línea.
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            <code class="rog-font-title">startxfce4</code>
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/editar-xrdp-2.png"
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Guarda el archivo (Ctrl + O) y sal (Ctrl + X).
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            Ahora inicia el servicio de escritorio remoto.
          </p>
          <p class="fs-5 rog-text-default rog-font-defualt">
            <code class="rog-font-title">sudo /etc/init.d/xrdp start</code>
          </p>
          <p class="fs-5 rog-text-default rog-font-default">
            Abre el programa de Conexión a escritorio remoto.
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/conexion.png"
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Y cuando te conectes, pon tu usuario y contraseña.
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/conexion-ubuntu-2004-1.png"
          />
          <p class="fs-5 rog-text-default rog-font-default">
            Y ya tienes un Ubuntu operativo con entorno gráfico sin sacrificar
            rendimiento del ordenador.
          </p>
          <img
            class="img-fluid mx-auto d-block mb-2 rounded-3"
            src="../assets/img/blog/ubuntu-with-graphical-interface-on-windows-10-11-using-wsl2/conexion-ubuntu-2004-2.png"
          />
        </div>
      </article>
    </main>
    <footer class="container py-1 text-center bg-dark text-white rounded-3">
      <section class="container pt-3">
        <div class="mb-4">
          <a
            class="text-light fs-3 me-3"
            href="https://www.linkedin.com/in/raul-ortega-gallego/"
            role="button"
            target="_blank"
            rel="noopener noreferrer"
            ><i class="bi bi-linkedin"></i
          ></a>
          <a
            class="text-light fs-3"
            href="https://twitter.com/r_ortegag"
            role="button"
            target="_blank"
            rel="noopener noreferrer"
            ><i class="bi bi-twitter"></i
          ></a>
          <a
            class="text-light fs-3 ms-3"
            href="https://github.com/r-ortegag"
            role="button"
            target="_blank"
            rel="noopener noreferrer"
            ><i class="bi bi-github"></i
          ></a>
        </div>
      </section>
      <section class="text-center text-light pb-3">
        2023
        <a class="text-light" href="https://rortegag.com">rortegag.com</a>
      </section>
    </footer>
    <button type="button" class="btn rog-btn btn-lg" id="btn-scroll-top">
      <i class="bi bi-arrow-up-short"></i>
    </button>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
      crossorigin="anonymous"
    ></script>
    <script src="../js/enhance.js"></script>
    <script src="../js/scrollUp.js"></script>
  </body>
</html>
